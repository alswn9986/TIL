# 웹 브라우저에서의 통신
## Polling
HTTP 통신은 서버에서 클라이언트로 요청하는 것이 불가능하므로 클라이언트가 평범한 HTTP Request를 서버로 계속 날려서 이벤트 내용을 전달받는 방식이다.

### 장단점
- 장점
  - 일정하게 갱신되는 서버 데이터의 경우 유용하게 사용될 수 있음
- 단점
  - 클라이언트가 많아지면 서버의 부담이 급증함
  - 클라이언트에서 실시간 정도의 빠른 성능을 기대하기 어려움
  - 전송하는 데이터 양에 비해 헤더 양이 큰 HTTP 오버헤드 발생(HTTP는 단발성 통신이기에 헤더가 무거운 프로토콜)

<br />

## Long Polling
서버 측에서 접속을 열어두는 시간을 길게 하는 방식이다. hang 걸린 것처럼 응답을 보류하기 때문에 hang get이라고도 불린다.

### 통신과정
1. 클라이언트에서 서버로 HTTP Request를 날린다.
2. 서버에 응답 가능한 데이터가 없으면 계속 기다리다가 서버에서 해당 클라이언트로 전달할 이벤트가 있으면 그 순간 Response 메시지를 전달하면서 연결이 종료된다.
3. 클라이언트에서는 곧바로 다시 HTTP Request를 날려서 서버의 다음 이벤트를 기다리게 되는 방식이다.

### 장단점
- 장점
  - 일반 Polling 방식보다 서버의 부담이 감소함
- 단점
  - 이벤트들의 시간 간격이 좁다면 일반 Polling 방식과 별 차이가 없음
  - 다수의 클라이언트에게 동시에 이벤트가 발생할 경우 서버의 부담 급증

<br />

## WebSocket
기존 HTTP 요청 응답 방식은 요청한 클라이언트에만 가능한데, WS 프로토콜을 통해 웹소켓 포트에 접속해 있는 모든 클라이언트에게 이벤트 방식으로 응답한다.
- 한 번 연결이 수립되면 클라이언트와 서버 모두 자유롭게 데이터를 보낼 수 있음
- HTTP 규격인 CORS 적용이나 인증 등의 과정을 기존과 동일하게 가져갈 수 있음
- OSI 7 Layer 4계층의 TCP에 의존함

### 통신과정
1. 클라이어트가 서버에게 HTTP로 웹소켓 연결 요청
2. 서버가 클라이언트에게 HTTP로 웹소켓 연결 승인
3. 양방향 연결로 서버와 클라이언트가 통신
4. 클라이언트와 서버 중 하나에 의해 양방향 연결 종료