## Service
파드들을 통해 실행되고 있는 애플리케이션을 네트워크에 노출시키는 가상의 컴포넌트이다.

### 왜 Service가 필요할까?
- 서비스를 위한 고정된 IP가 필요하다.
    - 파드는 새로 띄워질 때마다 동적으로 IP를 할당 받는다.
    - 서비스를 위해서는 고정된 IP가 필요하다.
    - 서비스 객체에는 고정된 IP가 할당된다.
    - 서비스 내부의 파드 IP가 계속 바뀌더라도 서비스의 IP는 계속 고정되어 있다.
- 서비스 제공을 위한 Pod 집합에 대한 경로를 제공해야 한다.
    - 서비스 객체는 트래픽을 전달하는 역할만 한다.
    - 실제 서비스를 수행하는 객체는 파드다.
    - 서비스와 같은 label을 갖는 파드 Endpoint를 찾아 트래픽을 전달한다.

### 서비스 종류
- ClusterIP
    - 가장 기본이 되는 타입이다.
    - 서비스 객체에 클러스터 내부에서만 접근 가능한 IP를 할당한다.
    - 클러스터 외부에서는 접속 불가하다.
- NodePort
    - 클러스터 내 모든 노드에 외부에서 접근 가능한 포트를 개방한다.
    - NodePort가 설정되면 ```{클러스터 내 임의 노드의 IP}:{지정한 포트번호}```로 서비스에 접근 가능하다.
    - 노드의 포트를 사용하므로 클러스터 외부나 내부 모두 접근 가능하다.
    - 클러스터 내의 모든 노드들이 공인 IP를 가지면 외부에서도 접근 가능한 서비스가 된다.
- LoadBalancer
    - 클라우드 서비스를 이용할 때 사용 가능한 옵션이다.
    - 외부 접근이 가능한 LB를 공인 IP 서비스 객체에 할당한다.

<br />

## Ingress
클러스터 내의 서비스에 대한 외부 접근을 관리하는 API 오브젝트이다.   
클러스터 외부에서 내부로 접근하는 요청을 어떻게 처리할지 정리해둔 규칙들의 모음이다.

### 왜 Ingress가 필요할까?
- 하나의 IP로 여러 서비스를 노출할 수 없는 LB의 한계를 해결하기 위해 사용한다.
- 서비스들을 묶는 서비스의 상위 객체이다.

### Ingress 기능
- 외부에서 접속가능한 URL 사용
- 트래픽 로드밸런싱
- SSL 인증서 처리
- 도메인 기반 가상 호스팅 제공

### Ingress Controller
인그레스는 규칙들을 정의해둔 리소스고, 이를 실제 동작하기 위해서는 인그레스 컨트롤러가 필요하다.

## 참고자료
- https://seongjin.me/kubernetes-service-types/
- https://velog.io/@dojun527/%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%EC%9D%B8%EA%B7%B8%EB%A0%88%EC%8A%A4Ingress